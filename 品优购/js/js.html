<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
  <style>
       /* 去掉li 的小圆点 */
      li {
          list-style: none;
    }
      div {

          margin-top: 80px;
          height: 800px;
          overflow: hidden;
    }
    ul {
        position: absolute;
    }
      li {
        width: 20px;
         height: 40px;
        /* line-height: 40px; */
        float: left;
        margin-right: 5px;
        background-color: pink;
    }
  </style>
<body>
    <input type="text"> 
    <button class="btn1">左侧入</button> 
    <button class="btn2">右侧入</button>
    <button class="btn3">左侧出</button>
    <button class="btn4">右侧出</button>
    <button class="btn5">排序</button>
    <button class="btn6">随机50</button>
    <span>interval(ms)</span> <input type="text" value="10">
   <div>
    <ul></ul>
   </div>
    <script>
        //获取元素
        var input = document.querySelector('input');
        var ul = document.querySelector('ul');
        var btn1 = document.querySelector('.btn1');
        var btn2 = document.querySelector('.btn2');
        var btn3 = document.querySelector('.btn3');
        var btn4 = document.querySelector('.btn4');
        var btn5 = document.querySelector('.btn5');
        var btn6 = document.querySelector('.btn6');
        // 定义数组用于存放输入的值
        var arr=[];
        //左侧入
        btn1.addEventListener('click',function() {       
            if(ul.children.length > 50) {
                alert('输入数据已经达到50个');
                return false;
                
            } 
            if (input.value == '') {
                return false;
            } else {
                //创建元素
                var li = document.createElement('li');
                //在前方添加元素
                ul.insertBefore(li,ul.children[0]);
                // li.innerHTML = input.value;
                li.style.height= input.value * 5 + 'px';
                move()
                arr[arr.length] = input.value;
            }                
        });
        // 右侧入
        btn2.addEventListener('click',function() {   
            if(ul.children.length == 51) {
                alert('输入数据已经达到50个');
                return false;
            } 
            if (input.value == '') {
                return false;
            } else {
                //创建元素
                var li = document.createElement('li');
                //在后方添加元素
                ul.appendChild(li);
                li.style.height= input.value * 5 +'px';
                arr[arr.length] = input.value;
                //调用点击li删除的函数
                move()
            }            
        });
        // 3.左侧出
        btn3.addEventListener('click',function() {
            //删除最前面的
            ul.removeChild(ul.children[0]);
            alert(arr[0]);
            for(var i = 1; i<arr.length - 1; i++) {
                arr[i-1] = arr[i];
            }
        });
        //4. 右侧出
        btn4.addEventListener('click',function() {
            // 删除最后面的
            ul.removeChild(ul.children[ul.children.length-1]);
            alert(arr[arr.length-1]);
            arr[arr.length - 1] = '';
            arr.pop();
        });  
       
        // 5.排序
        btn5.addEventListener('click',function() { 
            //把字符串数组改为整形数组
            var brr=[];
            // var crr=[];
            arr.forEach(function(data,index,arr){
                 brr.push(+data);
                //  crr.push(+data);
	        });
            
	        // console.log(brr);
           // 利用冒泡排序排序
            for(var i = 0; i <brr.length - 1 ; i++) {
                for (var j = 0; j <brr.length - 1 - i; j++) {
                    if(brr[j] > brr[j + 1]) {
                        var temp = brr[j];
                        brr[j] = brr[j+1];
                        brr[j+1] = temp;

                    }                   
                }
            }
            for(let  k = 0; k < brr.length ; k++) {
                ul.children[k].style.height=brr[k]*5 + 'px';
            }
           
            
        });


        // 随机生成50个数
        btn6.addEventListener('click',function() {

            // 随机生成1到600的50个数的函数
            function getRandomIntInclusive(min, max) {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min + 1)) + min; //含最大值，含最小值 
                }  

            //将生成的数显示出来
            for (var i = 0; i < 50; i++) {
                var num = getRandomIntInclusive(20, 50);
                // num = parseInt(num, 40);
                arr.push(num);
                input.value= arr[i];
                btn1.click();        
                // if(!(btn1.click())){
                //     break;
                // }
            }
        })
     
        //点击li删除的函数
        function move() {
            var li = document.querySelector('li');
            li.addEventListener('click',function() {
                alert(li.innerHTML);
                ul.removeChild(this);
                })
        }
       
    </script>
</body>
</html>
